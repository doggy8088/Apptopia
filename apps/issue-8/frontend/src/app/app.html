<div class="container">
  <header>
    <h1>ğŸš» {{ title() }}</h1>
    <p class="subtitle">é«˜é€Ÿå…¬è·¯ä¼‘æ¯ç«™å¿«é€Ÿæœå°‹</p>
  </header>

  <main>
    <div class="search-section">
      <button 
        class="find-button" 
        (click)="onFindRestArea()"
        [disabled]="loading()">
        @if (loading()) {
          <span class="spinner"></span>
          å®šä½ä¸­...
        } @else {
          ğŸ“ æˆ‘è¦å°¿å°¿
        }
      </button>
    </div>

    @if (error()) {
      <div class="error-card">
        <div class="error-icon">âš ï¸</div>
        <p>{{ error() }}</p>
      </div>
    }

    @if (serviceArea()) {
      <div class="result-card">
        <div class="result-header">
          <h2>{{ serviceArea()!.name }}</h2>
          <span class="direction-badge">{{ serviceArea()!.direction }}</span>
        </div>
        
        <div class="highway-info">
          <span class="highway-badge">{{ serviceArea()!.highway }}</span>
          <span class="mileage">{{ serviceArea()!.mileage }}K</span>
        </div>

        <div class="distance-info">
          <div class="distance-item">
            <span class="label">è·é›¢</span>
            <span class="value">{{ serviceArea()!.distance?.toFixed(1) }} å…¬é‡Œ</span>
          </div>
          <div class="distance-item">
            <span class="label">é ä¼°æ™‚é–“</span>
            <span class="value">{{ serviceArea()!.eta }}</span>
          </div>
        </div>

        @if (serviceArea()!.parkingInfo) {
          <div class="parking-info">
            <div class="parking-status" 
                 [style.background-color]="serviceArea()!.parkingInfo!.colorCode">
              {{ serviceArea()!.parkingInfo!.status }}
            </div>
            <div class="parking-details">
              <span>å‰©é¤˜è»Šä½ï¼š{{ serviceArea()!.parkingInfo!.availableSpaces }} / {{ serviceArea()!.parkingInfo!.totalSpaces }}</span>
            </div>
          </div>
        }

        <button class="navigate-button" (click)="openGoogleMaps(serviceArea()!)">
          ğŸ—ºï¸ é–‹å•Ÿ Google åœ°åœ–å°èˆª
        </button>
      </div>
    }
  </main>

  <footer>
    <p>è³‡æ–™ä¾†æºï¼šäº¤é€šéƒ¨ TDX å¹³å°</p>
    <p class="disclaimer">âš ï¸ è«‹æ³¨æ„å®‰å…¨é§•é§›ï¼Œå‹¿é‚Šé–‹è»Šé‚Šä½¿ç”¨æ‰‹æ©Ÿ</p>
  </footer>
</div>

<router-outlet />
