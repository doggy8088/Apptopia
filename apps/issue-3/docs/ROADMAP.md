# 開發路線圖

本文件記錄 AI知識++ 從規劃到交付的完整時程與里程碑。

---

## 總覽

**專案目標**：建立一個本機運作的私人知識庫桌面應用程式

**預計總時程**：3-4 個月（取決於團隊規模與投入時間）

**目前狀態**：✅ Phase 0 已啟動（規劃階段）

---

## 階段規劃

### Phase 0：需求凍結與驗收題庫 ✅ 已啟動

**時程**：Week 1-2 (2 週)

**狀態**：🚧 進行中

**目標**：
- 確認需求範圍
- 建立測試資料集
- 定義驗收標準

**關鍵交付物**：
- [x] 測試資料準備（43 個 MD 文件，74 張圖片）
- [ ] Obsidian 語法支援矩陣
- [ ] 驗收題庫（>=15 題）
- [ ] 評分標準文件

**完成標準**：
- 所有團隊成員對需求達成共識
- 測試資料集完整且具代表性
- 驗收標準明確且可量化

**預計完成日期**：2026-03-03

---

### Phase 1：資料匯入與索引

**時程**：Week 3-6 (4 週)

**狀態**：⏳ 尚未開始

**目標**：
- 建立穩定的資料匯入系統
- 實作向量索引機制
- 完成 OCR 管線

**關鍵任務**：

#### Week 3-4：基礎建設
- [ ] 專案架構搭建（Tauri + Python backend）
- [ ] 資料夾管理模組
  - [ ] 新增/移除資料夾
  - [ ] 狀態管理（活躍/凍結）
- [ ] 檔案掃描器
  - [ ] Markdown 檔案偵測
  - [ ] JPG 檔案偵測
  - [ ] 變更偵測機制

#### Week 5：文件處理
- [ ] Markdown 解析器
  - [ ] Frontmatter 提取
  - [ ] Wikilink 解析
  - [ ] 標籤提取
- [ ] 文件分塊（Chunking）
  - [ ] 語意分塊策略
  - [ ] Overlap 處理
- [ ] Metadata 提取與儲存

#### Week 6：OCR 與索引
- [ ] OCR 管線整合
  - [ ] PaddleOCR 整合
  - [ ] 批次處理
  - [ ] 錯誤處理
- [ ] 向量資料庫設置
  - [ ] Chroma 整合
  - [ ] Embedding 模型選擇
  - [ ] 批次向量化
- [ ] 增量索引機制

**交付物**：
- 資料匯入 UI 介面
- 索引建立工具
- OCR 處理模組
- 單元測試（覆蓋率 >80%）

**完成標準**：
- 可成功匯入測試資料集
- 索引建立時間 <5 分鐘（43 個文件）
- OCR 準確率 >85%（手動抽樣驗證）

**預計完成日期**：2026-03-31

---

### Phase 2：RAG 對話核心

**時程**：Week 7-10 (4 週)

**狀態**：⏳ 尚未開始

**目標**：
- 實作核心問答功能
- 整合 LLM
- 完成來源追蹤

**關鍵任務**：

#### Week 7：LLM 整合
- [ ] Ollama 整合
  - [ ] 本機模型管理
  - [ ] 推理 API 封裝
- [ ] OpenAI API 整合（可選）
  - [ ] API 金鑰管理
  - [ ] 錯誤處理與重試

#### Week 8-9：RAG 引擎
- [ ] 檢索模組
  - [ ] 向量相似度檢索
  - [ ] 關鍵詞檢索（BM25）
  - [ ] 混合檢索策略
- [ ] Prompt 工程
  - [ ] 系統提示詞設計
  - [ ] Few-shot 範例
  - [ ] 來源引用格式
- [ ] 生成模組
  - [ ] LLM 呼叫封裝
  - [ ] 串流輸出
  - [ ] 來源附加

#### Week 10：對話管理
- [ ] 多輪對話
  - [ ] 對話歷史管理
  - [ ] 上下文窗口
  - [ ] 參考消歧
- [ ] 未命中處理
  - [ ] 檢測邏輯
  - [ ] 外部查詢提示
  - [ ] 來源標示

**交付物**：
- RAG 問答 UI 介面
- 對話管理系統
- 來源追蹤機制
- 整合測試

**完成標準**：
- 通過 Phase 0 定義的基本問答測試（Q1-Q5）
- 回應時間 <5 秒（含 LLM 生成）
- 來源引用準確率 >90%

**預計完成日期**：2026-04-28

---

### Phase 3：關聯分析與知識圖譜

**時程**：Week 11-13 (3 週)

**狀態**：⏳ 尚未開始

**目標**：
- 實作知識關聯分析
- 建立視覺化圖譜
- 完成互動功能

**關鍵任務**：

#### Week 11：關聯分析
- [ ] 關鍵詞提取
  - [ ] TF-IDF 演算法
  - [ ] 關鍵詞共現分析
- [ ] 向量相似度計算
  - [ ] Cosine similarity
  - [ ] 批次計算優化
- [ ] 混合評分策略
  - [ ] 權重調整機制
  - [ ] 閾值過濾

#### Week 12-13：圖譜視覺化
- [ ] 圖譜資料結構
  - [ ] 節點定義
  - [ ] 邊定義
  - [ ] 屬性管理
- [ ] 視覺化元件
  - [ ] Force-directed layout
  - [ ] 節點樣式
  - [ ] 連線樣式
- [ ] 互動功能
  - [ ] 點擊展開
  - [ ] 拖曳移動
  - [ ] 縮放控制
  - [ ] 過濾選項

**交付物**：
- 關聯分析引擎
- 知識圖譜 UI
- 互動功能
- 效能測試報告

**完成標準**：
- 可顯示有效的知識圖譜
- 關聯計算時間 <10 秒（100 個文件）
- 圖譜互動流暢（>30 FPS）

**預計完成日期**：2026-05-19

---

### Phase 4：資料庫遷移與來源驗證

**時程**：Week 14-15 (2 週)

**狀態**：⏳ 尚未開始

**目標**：
- 支援資料備份與還原
- 實作來源驗證機制
- 完成遷移工具

**關鍵任務**：

#### Week 14：匯出/匯入
- [ ] 資料序列化
  - [ ] 索引資料匯出
  - [ ] Metadata 匯出
  - [ ] 設定匯出
- [ ] 壓縮與加密
  - [ ] ZIP 壓縮
  - [ ] 可選加密（AES-256）
- [ ] 匯入還原
  - [ ] 解壓縮
  - [ ] 資料驗證
  - [ ] 索引重建

#### Week 15：來源驗證
- [ ] 路徑驗證機制
  - [ ] 來源存在性檢查
  - [ ] 路徑更新提示
- [ ] 狀態管理
  - [ ] 活躍/凍結標記
  - [ ] 差異追蹤
- [ ] 驗證報告
  - [ ] 可用來源清單
  - [ ] 缺失來源清單
  - [ ] 建議操作

**交付物**：
- 匯出/匯入工具
- 來源驗證模組
- 遷移報告生成器
- 使用手冊

**完成標準**：
- 可成功匯出並在另一台電腦匯入
- 來源驗證準確率 100%
- 匯出/匯入時間合理（<1 分鐘/GB）

**預計完成日期**：2026-06-02

---

### Phase 5：驗收與交付

**時程**：Week 16-18 (3 週)

**狀態**：⏳ 尚未開始

**目標**：
- 完成功能驗收
- 修正缺陷
- 交付正式版本

**關鍵任務**：

#### Week 16：功能驗收
- [ ] 執行完整測試套件
  - [ ] 15+ 題驗收題庫
  - [ ] 單元測試
  - [ ] 整合測試
  - [ ] 效能測試
- [ ] 缺陷追蹤與修正
  - [ ] 優先級分類
  - [ ] Bug 修正
  - [ ] 回歸測試

#### Week 17：打包與最佳化
- [ ] Windows 打包
  - [ ] MSI 安裝程式
  - [ ] 程式簽名
- [ ] 效能最佳化
  - [ ] 載入時間優化
  - [ ] 記憶體使用優化
  - [ ] 查詢速度優化
- [ ] 多版本測試
  - [ ] Windows 10
  - [ ] Windows 11

#### Week 18：文件與交付
- [ ] 使用手冊
  - [ ] 安裝指南
  - [ ] 功能說明
  - [ ] 故障排除
- [ ] 限制與已知問題
  - [ ] 語法差異說明
  - [ ] OCR 限制
  - [ ] 效能邊界
- [ ] 發布準備
  - [ ] Release Notes
  - [ ] GitHub Release
  - [ ] 宣傳材料

**交付物**：
- Windows 安裝包（.msi）
- 使用文件
- 限制與已知問題清單
- 原始碼與文件

**完成標準**：
- 通過所有驗收測試（通過率 >=80%）
- 關鍵測試 100% 通過
- 安裝成功率 >95%（測試樣本）
- 文件完整且清晰

**預計完成日期**：2026-06-23

---

## 風險評估

### 高風險項目

| 風險 | 影響 | 機率 | 應對策略 |
|------|------|------|----------|
| LLM 效能不佳 | 高 | 中 | 提供多個模型選項，允許使用 API |
| OCR 準確度低 | 中 | 中 | 提供手動修正介面，降低 OCR 優先級 |
| 向量檢索速度慢 | 中 | 低 | 預先優化，使用快取機制 |
| Tauri 生態問題 | 高 | 低 | 準備 Electron 備案 |

### 時程風險

- **樂觀情境**：3 個月完成（團隊經驗豐富，無重大阻礙）
- **正常情境**：4 個月完成（預期範圍）
- **悲觀情境**：5-6 個月完成（遇到技術難題或需求變更）

---

## 資源需求

### 人力需求

**最小團隊配置**：
- 全端工程師 x1（Tauri + Python）
- AI/ML 工程師 x1（RAG + LLM）

**理想團隊配置**：
- 前端工程師 x1（Svelte/React + Tauri）
- 後端工程師 x1（Python + Rust）
- AI/ML 工程師 x1（RAG + LLM）
- UI/UX 設計師 x1（介面設計）
- QA 工程師 x1（測試）

### 硬體需求

**開發環境**：
- CPU: 8 核心以上
- RAM: 16GB 以上
- GPU: 建議有（用於 LLM 與 OCR 加速）
- 儲存空間: 100GB SSD

**測試環境**：
- 多台 Windows 10/11 測試機

---

## 下一步行動

### 立即行動（本週）

1. [ ] 完成 Obsidian 語法支援清單
2. [ ] 建立驗收題庫初稿
3. [ ] 決定技術棧（確認 Tauri 可行性）
4. [ ] 設置開發環境

### 近期行動（2 週內）

1. [ ] 完成 Phase 0 所有交付物
2. [ ] 召開 Phase 1 啟動會議
3. [ ] 分配開發任務
4. [ ] 建立專案管理看板

---

## 版本規劃

### V1.0.0（本次開發）

**核心功能**：
- RAG 問答（附來源）
- 摘要生成
- 知識圖譜
- 資料遷移

**支援平台**：
- Windows 10/11

**支援格式**：
- Markdown
- JPG

### V1.1.0（後續改進）

- 效能優化
- Bug 修正
- 使用者回饋改進

### V2.0.0（未來展望）

- PDF, DOCX 支援
- 即時檔案監控
- 進階圖譜功能
- macOS/Linux 支援

---

**最後更新**：2026-02-17  
**下次審查**：2026-03-03（Phase 0 完成時）
