---
tags:
  - 程式語言/Rust
aliases: 
來源:
  - "[[Rust 權威指南]]"
新建日期: 2024-02-12 15:05:27
---
# 變數
Rust跟其他語言有個區別，
- Rust宣告**數值預設是不可變**
- 如果要變數能改變要加上 **mut** 關鍵字
- const 常數，就是常數，不可變不可改

```Rust
let a: i32 = 1; //宣告後變數數值不可變
let mut d: i32 = 1; //宣告後可以改變變數
const C  = 1.0; //常數
```

## 轉變
因數值預設不可變，所以Rust避免程式員寫太多變數造成問題
所以可以將同一個變數進行**轉變**
也就是**同一個變數，重新使用，甚至可以轉變類型**
例如 : int 整數 轉變成 String

```Rust
//轉變
let mut b = 1;  
let b = String::from("AAA");  
```

### 那要用 mut 還是 轉變 ??
mut和轉變結果雖然一樣，但概念不一樣
- mut 是同一變數進行數值運算後的改變
- 轉變是 **使用同一個名稱，重新代表變量**

轉變概念其實更多是對程式員比較方便，避免一堆變數出現
而是用同一個變數來代表邏輯的延續

## 數據類型

### 整數
整數預設是 **i32** 但基本上Rust編譯器會自己判斷
**isize**是比較特殊是應用在單晶片之類上，
當在32位元上就是 I32 64位元上 就是 I64
#### 整數溢位
溢位很簡單，就是回到最小
例如: 256 -> 0 -> 1這樣
![](../../../../Source來源筆記/圖片/Rust語言基本/Pasted%20image%2020240212155532.png) 
![](../../../../Source來源筆記/圖片/Rust語言基本/Pasted%20image%2020240212155551.png)

### 浮點數
- f32 單精度浮點數
- f64 雙精度浮點數 預設值

一樣會出現浮點誤差
例 : 0.1 + 0.2 = 0.30000000004

### Bool 

老樣子 True False

### char
這比較特殊，Rust採用的是UTF-8，所以Rust不容易出現亂碼

```rust
let name: char = '陸';
```

### 元組
跟[[Python 基本#元組(tuple)|Python元組]]是一樣的，
透過 **()** 來設定數據
```rust
let tup: (i32, f64, u8) = (500, 6.4, 1);  
// tup.0 等于 500  
// tup.1 等于 6.4  
// tup.2 等于 1  
let (x, y, z) = tup;  
// y 等于 6.4
```

### 陣列

> https://doc.rust-lang.org/std/primitive.array.html

陣列有兩種語法`[a,b,c,d]`跟傳統一樣
另一種`[expr; N]`代表是expr的內容要重複N次，算是個語法糖

```rust
//宣告方式 [類型;陣列長度]
let arrayA: [i32; 5] = [1, 2, 3, 4, 5];
let arrayB= [1;5]; // 就是=>[1,1,1,1,1]
```

# 函數
用fn開頭 ->當返回值
匿名的話是 {} 包住這樣
```rust
fn another_function(x: i32, y: i32) -> String //正常函式

 let y = {  let x = 3;  x + 1  }; //匿名函式
```

## 函式return語法糖
Rust再返回結果時有個語法糖
就是直接在最後一行打上變數
但**禁止加上 ；**，多個分號，編譯器會以為是邏輯運算

```rust
fn a () -> i32 {  //正常版
    let x = 1;  
    return x;  
}

fn a () -> i32 {  //語法糖
    let x = 1;  
    x
}

fn a () -> i32 {  //禁止
    let x = 1;  
    x; <== 編譯器過不了
}
```

# 註解

```rust
// 这是第一种注释方式  
  
/* 这是第二种注释方式 */  
  
/*  
 * 多行注释  
 * 多行注释  
 * 多行注释  
 */

//給函式專用註解，可以在外部顯示出函式作用
/// Adds one to the number given.  
///  
/// # Examples  
///  
/// ```  
/// let x = add(1, 2);  
///  
/// ```
```

# 迴圈

## Loop
這是Rust特有的，簡單講，就是無限迴圈
> [!Error] **小心使用**

## 跳出
跟C#一樣 **break return contine**

## for
for迴圈跟C#一樣，在於有個語法糖
(a .. b) 意思是  a ~ b-1 這樣 加上 .rev()就是倒過來
```rust
(1..4) => 1~3
(1.. =4) => 1~4 
(1..4).rev() => 3~1
```



